language: java

services:
  - docker

env:
  global:
    # GEONAME_USERNAME
    - secure: "nyRCGgDO7DzkR7u3hZrA2OU8/5805NZa4RUm1Jz3pYFY+8rbUaFCxRJt63ueN1FofUcpmMcPGLACxchjBJ2X09A4Ol1ZS/fuC/j2fHdYU39AQhMOav8f5Ehid2SrTUp1PPT9o5MxH9L9PzrZUxxUwt/TAhx+5NTGDo6GjLMhWN8GlykjmmrBy9Kx+mgGpY51iG9v5y7BAS5Zyn5N7H1nTZRNX+GTloPziAsc5aDWvsCY3JMDJIZmrbcFCJ1iAggJK7P4pJ0ftzQHT+5EJVn6hs6ywK2lw1M6AfIT2Em+VnNml4ho0PHh2AAvz+wn54ZjtyWrYZDwnVCS93qqMsMrV39cBM8NAqiAvcYE3MMMEgP8nO8zP+8E8cfE3jIcnIpcHSbdKbxWqxSBHp3nvmoFsZH3vNwM/IFsAYvY0Ziq4aH2brqDc75YHZuL7DbXe51gysJ2/N5qmU7FZ0GO3xTxB8XGb4tci/V5VDie6J91GVHqYf63T00x00yC9JuL8nfFXiK7SSY1A1s2f7i53oTAhd4l+9muItQ7iU2w/aM+THlNwJfJT9tTmfhIzx3y8w6417UYA530AeDoS9yUw45gx6FuVZSLwJlpp1NpAJeiBZ4jg9+VkNt8DW/l6MAfJKuuEG+EHNZX+JUEe8TmgcLnsbLCSUD8HKNg9PllOJ889mI="
    # BEARER_TOKEN1
    - secure: "aDY6RISfDWFjuwDLwEVOUcNv7yf7DAJwzrJlKgcA2c7MHXu2A+vLsBG0PujTlFKfjPN5FAsObR/QtbxxNErvSlzScwtL4VWSFqeF2v+Z/hOtOwFd+SJmhbglAE0cvGB2C23Wd4tdo0sTUfY4z8MXS5L7umfdMQbRlusXzaMobNuyK85w19XnYHXzthRJ0x8vFAnAWYrUws6OW+MeANlG7cz+YSqqbRlzy3G4eLjnkSEpQ31oD7f6Ji6OloX2Kviqgw0j/UlHDq00oik59qZi7fJSynW0Byc0RW72BOsoC9jkiZOJ8qvnjFvdWAjZtIeCNDyRDoW5E3w2VU+E99nKKni0PrlFpTznhKEjJhByJaMYfMR3FKZLToXP+Iyh5HrI0GV2ddUqTCEpcTncT6umvSXilhY3bDtJrSA+nqqdHXoITW5s75RQTydKFy8Iu7+L6jC7Wdv2qglnliZzL8gj6Ump1V1iFM5JZHkmOz9N1KeDBJ8Oyuft94b4oyWrOHQ5IiDzya/9ddyDpYxAK03Hgl0c+KahrIVvanuOjaSeBSqNIW0AAW8W+guI5Ydwm685GBxtWRGNy129QcX8egkmpJxNVbG9nWnty9hfOQrAdQIVavBrcyxYWf9CJZVAqJWff0z6GQJ2Tv6vLl+azpE9uIPUh5nElEUt7LWo2xfRRQo="
    # BEARER_TOKEN2
    - secure: "NztuxBJyDu6BxRNWcgkFpf5q3I34oaZRuVsEGH6hwbvmsgm2Dme+n42DALH4Xc1M5mpyBdgEWLn3FY3u796yIUGMcarDrzU3kurnEsLvo2tC+PFdaV55bJiOjCjDbkh8rRFwTwyyPH2b/j1KZcMyn9CrUSesZlsaNpfB4280aTfHQsynzyv5G8eNoY+d+YD/6uIyneXhIDNCjCJaVn2cyJ6UOM1DGxyowXKz/2X8VmihkpdK73XQBCPO/9R1UmwJVX5FpH7Nb2XyN7uS3KVb8RbLO3eTFhlMCUCD2CyYdwuxgO68FEe2tgpOGpXOoxmGBaTbhKvIE73QMaH6aYdesUPS4hflUvmrnGUY1zG0LwKklSA7CsDZfalS8eLKDG0dNTRzXM+urKPMRPsxjJL89eSky3PALNr9oYM+gVbfUEckOebcjurG3hCFwXk10R/YB7sj1uBhJ/TAMIennbouKhlhx93Iue5NBcEDy2blQKWlEUnTLZJPlkTJduVHAe6l6SOzDbZqtvQthPaEcOBwb8Iah/OBvgbk0CcSCSnkd+rsV3bplVdddxceXVgPPos3C1Jad3IkRUFERCOcX2xeViDPaoxY6LojCpcVcCnYOKP7p93TrpTJJxzT3+H3w0LUAo/7KdODX1SjmSViGVc5Y2ZSj2Eu2KsjKB6uDNKTLUE="
    # BEARER_TOKEN3
    - secure: "j9792HJ/q4wSq22wtYmnhziOCeAWr0oLauN581bGBF6g1zktl8YfxGyUBWVqAryVjGui3qAjrc6U7tYfz8Ho/u5IU1sAm7AeZKmCLleuwyREgSXGhFu+iQKJf8hf8nDwpj2/TVLJl696KCVp5Vsyb8HN1o+veLY9i+ZrQOoF1lIg+FNWcwTNJ4BgN3LiPCd+M2Jh17KEwhYjORWRHFfG/l1ZmNCnYEMTaMDGZUpyQuY8OvXtBIrfcvwYUhlmKCHXrYJDqGzPB7QHoF0h41XX4htroiFaKkHHjn8SJi0e/ECYpJDL8WJFXK1rqCnfRZHogFBsb6NMhfqflsmcCZgFSIKDbrmIPId8mQzYQaWKLrE6h62WY9Cvhd8rAV8yinNCGg9g1uv7EurQJisv4SX5CkzCI1Xn4UCsJd7kV3k80VlJmLt68GBmwb8Orewj4azgxv5G/0L2bMUzOBpQcMUTneWiNq8tiNPlrmuP4yEZj0RQeLP8YFGHskKNt/tuC0EkIAx/dNSjV0M7JFip5qruQs4KEVR2Tgk9aqgy5CBfy4P1Zg2Z4DdUeQBfjxxTQgRyv5fxG3rmvXmDu1PhQRlFDy/XdexqhKRzkqm2DY2FuVWn8Vsah5c6aKx7M+RuHNCxvLM56UJJPeA8WNLXq/LXdJDX8dKYH/fRSzqlqiC5+fA="

  jobs:
    - AWS_ACCESS_KEY_ID=fakeAccessKeyId AWS_SECRET_ACCESS_KEY=fakeSecretKey USE_LOCAL_DB=true BEARER_TOKEN=$BEARER_TOKEN1$BEARER_TOKEN2$BEARER_TOKEN3

addons:
  sonarcloud:
    organization: "zero-bs"
    token:
      secure: "fQp1IbQA2wCvbTM5qqUx7TlIeaDStXJ+qSRN92+REV+ZbjYtA3iZsMSqd8RXzWBTbo7ijfhoos1dYqlKC3kRs8/EDVlewDxFJAV15PK67Lz6Se2IWOZAcJm66wm4HFh8W+DrPra+2Y4nISRPX6onqRpK26ZbvpJAuJWys28UWq6BpV6r7zZXGzSharEDwA/sviFWqltddd/bgeYCOdgwAPa1aXxT6/Jj9qaV7Zhweillv0qL4kXJV6f5lXZKaZzny1brIcLjL8wBA/qUcK2ChoBop4U+Cgiig/ZC80MvftjUrNXWFOHlJ+QPZ8MpMk08pE2GGuMinA1L2AzMTKiorDFn9iN20P2+nPw5vRDg5wIox4RB3hyajwcTyTca/E5DSZJRziOoRARLTujVsPyEoAIGybhWLo6OCG0ap+xB1w0CZ39E3jxNfqUb2H7L79rYiSkpXRbUYTS1ggRkDqlb5WZMDbBLeW4q3gyS7oFzpRNfihOgokr/1rn9nlruLTok9BjOzWWDNAUFV4EeiHEg+4dfkFTJLPXFzo382I4ZOxfP4FK9kzUgEOo7ao50G9CLcs+SuT6jejOkjYo4kZpCg6YBIMSD3JvzVdqbQOfykzDpOjrsIRZHPxL8SyE1/Z9ZgvH7MoX3UIhzORJ/J0aEugDlsqJUedNdXWIznWR099c="

script:
  - ./gradlew sonarqube

before_install:
  - chmod +x gradlew
  - docker pull amazon/dynamodb-local:1.16.0
  - docker run -dp 8000:8000 amazon/dynamodb-local